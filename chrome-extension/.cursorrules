# Agent Guidelines for sir-hires Chrome Extension

## Project Overview
Privacy-first, local-first job search assistant Chrome extension. Users maintain complete ownership of their data and run analysis locally using their own LLM.

**Architecture:**
- Chrome extension for capturing job data from any job board
- Local browser storage (chrome.storage.local) - no backend database
- Enhanced viewer.html for application lifecycle tracking
- User's local LLM (LM Studio/Ollama) for intelligent analysis and insights
- No servers, no accounts, no data collection

**Philosophy:**
- Privacy-first: All data stays on user's device
- Tool provider: We provide the tools, users own the process
- Offline-capable: Works without internet (except for browsing job boards)
- Export freedom: Users can export their data anytime (JSON/CSV)

## Build/Test Commands
- **Development**: Load unpacked extension in Chrome from `chrome://extensions/`
- **Testing**: Manual testing by extracting jobs from various job boards
- **Reload**: Use reload button in `chrome://extensions/` after changes

## Code Style Guidelines
- **Pure JavaScript**: No build process, no frameworks (keep it simple)
- **Progressive Enhancement**: Features degrade gracefully if LLM unavailable
- **Readable Code**: Clear variable names, inline comments for complex logic
- **Error Handling**: Always provide fallbacks and user-friendly error messages
- **Privacy**: Never log sensitive user data, never send data to external servers

## Development Workflow
- Test in Chrome with "Developer mode" enabled
- Check browser console (F12) for errors
- Test content script on actual job boards (LinkedIn, Indeed, etc.)
- Verify chrome.storage.local persists correctly
- Test LLM integration with LM Studio running locally

## Key Files
- `manifest.json` - Extension configuration and permissions
- `content.js` - Extracts job data from web pages (DOM + LLM)
- `popup.html/js` - Extension popup UI and controls
- `viewer.html/js` - Job viewer and application tracking (to be enhanced)
- `background.js` - Service worker for LLM API calls
- `debug-storage.js` - Debug utility for inspecting storage

## Current Features
- Extract job data from any job board
- Optional LLM-powered extraction (NuExtract recommended)
- Local storage of all job data
- Job viewer with search/filter
- Export to JSON/CSV
- Delete individual or all jobs

## Planned Enhancements (Enhanced viewer.html)
- Application lifecycle tracking (Saved → Applied → Interviewing → Offer → Accepted/Rejected)
- Date tracking for each stage
- Notes and tags per job
- Star/priority system
- LLM-powered features:
  - Job-resume fit analysis
  - Cover letter generation
  - Interview prep questions
  - Skills gap suggestions
  - Job comparison
- Better filtering and sorting
- Application success analytics

## What We Don't Use
- ❌ Backend servers (no n8n, no Node.js API)
- ❌ Databases (no PostgreSQL, no Supabase, no Google Sheets)
- ❌ User accounts or authentication
- ❌ Cloud LLM APIs (user provides their own local LLM)
- ❌ Web scraping or automation (user manually triggers extraction)
- ❌ Build tools (no webpack, no npm scripts - pure HTML/CSS/JS)

## LLM Integration Notes
- Users run LM Studio or Ollama locally
- Extension connects to localhost:1234 by default
- NuExtract 2.0 models recommended for extraction quality
- All LLM calls go through background.js (content scripts can't access localhost)
- Always provide fallback to DOM-based extraction
- Never require LLM for core functionality

## Testing Checklist
- ✅ Extract jobs from LinkedIn, Indeed, Glassdoor
- ✅ Verify all fields populate correctly
- ✅ Test with LLM enabled and disabled
- ✅ Test export to JSON and CSV
- ✅ Test viewer search/filter
- ✅ Test delete functionality
- ✅ Verify data persists after browser restart
- ✅ Test on Chrome internal pages (should show helpful error)
